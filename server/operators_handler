from flask import Flask, make_response, request
import json
import psycopg2
from phone_number import PhoneNumber
from mobile_network_operator import MobileNetworkOperator
from person import Person
from dto.contacts_dto import ContactsDto, SingleContactDto, SinglePhoneNumberDto
from constants import *

def check_operator_json(body):
    try:
        body_dict = json.loads(body)
    except ValueError as e:
        return False

    if (("name" not in body_dict) | ("prefix" not in body_dict)):
        return False

    if ((isinstance(body_dict["name"], str) == False) 
        | (isinstance(body_dict["prefix"], str) == False)):
        return False

    return True

"""
verify the validity of the values received in the request body
"""
def check_operator_valid_json(operator_cmd):
    if (len(operator_cmd['name']) > 50):
        return False
    
    if (len(operator_cmd['prefix']) != 3):
        return False
    
    return True